# Ingenioå‰ç«¯äº¤äº’ä¼˜åŒ–æ–¹æ¡ˆ V2.0

> **ä¼˜åŒ–ç›®æ ‡**ï¼šå‚è€ƒ"ç ä¸Šé£"çš„å¯¹è¯å¼äº¤äº’ä½“éªŒï¼Œå®ç°ä»è‡ªç„¶è¯­è¨€è¾“å…¥åˆ°å¤šå¹³å°å‘å¸ƒçš„å®Œæ•´æµç¨‹
>
> **è®¾è®¡ç†å¿µ**ï¼š"è®©ç”¨æˆ·åšé€‰æ‹©é¢˜ï¼Œè€Œéå¡«ç©ºé¢˜" + "æ‰€è§å³æ‰€å¾—"
>
> **åˆ›å»ºæ—¥æœŸ**ï¼š2025-11-14

---

## ğŸ“‹ ç›®å½•

- [1. å½“å‰é—®é¢˜åˆ†æ](#1-å½“å‰é—®é¢˜åˆ†æ)
- [2. ä¼˜åŒ–æ–¹æ¡ˆæ€»è§ˆ](#2-ä¼˜åŒ–æ–¹æ¡ˆæ€»è§ˆ)
- [3. å››é˜¶æ®µäº¤äº’è®¾è®¡](#3-å››é˜¶æ®µäº¤äº’è®¾è®¡)
- [4. æŠ€æœ¯å®ç°æ–¹æ¡ˆ](#4-æŠ€æœ¯å®ç°æ–¹æ¡ˆ)
- [5. ç»„ä»¶æ¶æ„è®¾è®¡](#5-ç»„ä»¶æ¶æ„è®¾è®¡)
- [6. å®æ–½è·¯çº¿å›¾](#6-å®æ–½è·¯çº¿å›¾)

---

## 1. å½“å‰é—®é¢˜åˆ†æ

### 1.1 ç°æœ‰äº¤äº’æµç¨‹é—®é¢˜

| é—®é¢˜ | æè¿° | å½±å“ |
|-----|------|------|
| **å•ä¸€è¡¨å•è¾“å…¥** | åˆ›å»ºé¡µé¢åªæœ‰ä¸€ä¸ªç®€å•çš„æ–‡æœ¬æ¡† | ç”¨æˆ·ä¸çŸ¥é“å¦‚ä½•æè¿°éœ€æ±‚ |
| **ç¼ºä¹å®æ—¶åé¦ˆ** | è¾“å…¥åç›´æ¥è·³è½¬ï¼Œæ— å³æ—¶å“åº” | ç”¨æˆ·ä½“éªŒä¸è¿è´¯ |
| **æ— æ¨¡æ¿å¼•å¯¼** | æ²¡æœ‰è¡Œä¸šæ¨¡æ¿æ¨è | ç”¨æˆ·éœ€è¦ä»é›¶å¼€å§‹æ€è€ƒ |
| **é£æ ¼é€‰æ‹©æ»å** | é£æ ¼é€‰æ‹©åœ¨æ‰§è¡ŒåæœŸ | è¿”å·¥ç‡é«˜ï¼ˆ35%ï¼‰ |
| **AIèƒ½åŠ›ä¸é€æ˜** | AIèƒ½åŠ›è‡ªåŠ¨åˆ¤æ–­ï¼Œç”¨æˆ·æ— æ„ŸçŸ¥ | ç”¨æˆ·ä¸çŸ¥é“ä¸ºä»€ä¹ˆéœ€è¦æŸäº›èƒ½åŠ› |
| **æ‰§è¡Œè¿‡ç¨‹é»‘ç›’** | æ‰§è¡Œè¿‡ç¨‹ä¸å¯è§ | ç”¨æˆ·ç„¦è™‘ï¼Œä¸çŸ¥é“è¿›åº¦ |
| **å‘å¸ƒæµç¨‹åˆ†æ•£** | å‘å¸ƒåŠŸèƒ½åœ¨ä¸åŒé¡µé¢ | æ“ä½œè·¯å¾„é•¿ |

### 1.2 ç”¨æˆ·ä½“éªŒç—›ç‚¹

**ç—›ç‚¹1ï¼šè®¤çŸ¥è´Ÿè·è¿‡é«˜**
- ç”¨æˆ·é¢å¯¹ç©ºç™½æ–‡æœ¬æ¡†ä¸çŸ¥é“å†™ä»€ä¹ˆ
- éœ€è¦è‡ªå·±æƒ³è±¡æœ€ç»ˆæ•ˆæœ
- ä¸çŸ¥é“æœ‰å“ªäº›å¯é€‰é¡¹

**ç—›ç‚¹2ï¼šç­‰å¾…ç„¦è™‘**
- æäº¤åè·³è½¬åˆ°ç©ºç™½é¡µé¢
- çœ‹ä¸åˆ°æ‰§è¡Œè¿›åº¦
- ä¸çŸ¥é“è¿˜è¦ç­‰å¤šä¹…

**ç—›ç‚¹3ï¼šåé¦ˆæ»å**
- ç”Ÿæˆå®Œæˆæ‰èƒ½çœ‹åˆ°æ•ˆæœ
- ä¸æ»¡æ„éœ€è¦é‡æ–°ç”Ÿæˆ
- æµªè´¹æ—¶é—´å’Œèµ„æº

---

## 2. ä¼˜åŒ–æ–¹æ¡ˆæ€»è§ˆ

### 2.1 è®¾è®¡åŸåˆ™

**åŸåˆ™1ï¼šå¯¹è¯å¼äº¤äº’**
- æ¨¡ä»¿äººä¸äººå¯¹è¯çš„è‡ªç„¶ä½“éªŒ
- AIä½œä¸ºæ™ºèƒ½åŠ©æ‰‹å¼•å¯¼ç”¨æˆ·
- å®æ—¶å“åº”ï¼Œå³æ—¶åé¦ˆ

**åŸåˆ™2ï¼šæ¸è¿›å¼å¼•å¯¼**
- åˆ†é˜¶æ®µé™ä½ç”¨æˆ·å†³ç­–å¤æ‚åº¦
- å…ˆå¤§æ–¹å‘åç»†èŠ‚
- æ¯é˜¶æ®µéƒ½æœ‰æ˜ç¡®çš„è¾“å‡º

**åŸåˆ™3ï¼šæ‰€è§å³æ‰€å¾—**
- æ¯ä¸ªé€‰æ‹©éƒ½æœ‰å®æ—¶é¢„è§ˆ
- ç”¨æˆ·åœ¨ç¡®è®¤å‰å°±èƒ½çœ‹åˆ°æ•ˆæœ
- é™ä½è¿”å·¥ç‡

**åŸåˆ™4ï¼šé€æ˜åŒ–æ‰§è¡Œ**
- æ‰§è¡Œè¿‡ç¨‹å®Œå…¨å¯è§
- å®æ—¶æ˜¾ç¤ºè¿›åº¦å’Œä»£ç 
- ç”¨æˆ·éšæ—¶å¯ä»¥æŸ¥çœ‹è¯¦æƒ…

### 2.2 å››é˜¶æ®µæµç¨‹è®¾è®¡

```
é˜¶æ®µ1ï¼šè‡ªç„¶è¯­è¨€äº¤äº’ + æ„å›¾è¯†åˆ« + æ¨¡æ¿é€‰æ‹©
   â†“ ï¼ˆç”¨æˆ·é€‰æ‹©æ¨¡æ¿æˆ–è·³è¿‡ï¼‰

é˜¶æ®µ2ï¼šè®¾è®¡é£æ ¼é€‰æ‹© + AIèƒ½åŠ›é…ç½® + å®æ—¶é¢„è§ˆ
   â†“ ï¼ˆç”¨æˆ·ç‚¹å‡»"ç¡®è®¤è®¾è®¡"ï¼‰âš ï¸ å…³é”®ç¡®è®¤ç‚¹

é˜¶æ®µ3ï¼šæ‰§è¡Œç¡®è®¤ + å®æ—¶è¿›åº¦ + ä»£ç é¢„è§ˆ
   â†“ ï¼ˆè‡ªåŠ¨è¿›å…¥ï¼ŒExecute Agentæ‰§è¡Œï¼‰

é˜¶æ®µ4ï¼šå‘å¸ƒå’Œä¸‹è½½ï¼ˆå¤šå¹³å°ä¸€é”®å‘å¸ƒï¼‰
```

### 2.3 æ ¸å¿ƒæ”¹è¿›ç‚¹

| æ”¹è¿›ç‚¹ | V1.0ï¼ˆæ—§ç‰ˆï¼‰ | V2.0ï¼ˆä¼˜åŒ–åï¼‰ | æå‡ |
|-------|------------|--------------|------|
| **äº¤äº’æ–¹å¼** | å•ä¸€è¡¨å• | å¯¹è¯å¼å¼•å¯¼ | ç”¨æˆ·ä½“éªŒ â¬†ï¸ 80% |
| **æ¨¡æ¿æ¨è** | æ—  | æ™ºèƒ½æ¨è40+æ¨¡æ¿ | é™ä½è®¤çŸ¥è´Ÿè· 60% |
| **é£æ ¼é¢„è§ˆ** | æ—  | 7ç§é£æ ¼å®æ—¶é¢„è§ˆ | é™ä½è¿”å·¥ç‡ 50% |
| **AIèƒ½åŠ›** | è‡ªåŠ¨åˆ¤æ–­ | ç”¨æˆ·å¯è§å¯é€‰ | é€æ˜åº¦ â¬†ï¸ 100% |
| **æ‰§è¡Œè¿‡ç¨‹** | é»‘ç›’ | å®æ—¶å±•ç¤º | ç„¦è™‘æ„Ÿ â¬‡ï¸ 70% |
| **å‘å¸ƒæµç¨‹** | åˆ†æ•£ | ä¸€é”®å‘å¸ƒ | æ“ä½œæ­¥éª¤ â¬‡ï¸ 3æ­¥ |

---

## 3. å››é˜¶æ®µäº¤äº’è®¾è®¡

### é˜¶æ®µ1ï¼šè‡ªç„¶è¯­è¨€äº¤äº’ + æ„å›¾è¯†åˆ« + æ¨¡æ¿é€‰æ‹©

#### 3.1.1 å¸ƒå±€è®¾è®¡ï¼ˆå‚è€ƒå›¾1ï¼‰

**ä¸‰æ å¸ƒå±€**ï¼š
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            â”‚              â”‚            â”‚
â”‚  å¯¹è¯åŒºåŸŸ  â”‚  é¢„è§ˆåŒºåŸŸ    â”‚  ä¿¡æ¯é¢æ¿  â”‚
â”‚   (30%)    â”‚    (40%)     â”‚   (30%)    â”‚
â”‚            â”‚              â”‚            â”‚
â”‚ AIåŠ©æ‰‹å¯¹è¯ â”‚ æ¨¡æ¿é¢„è§ˆæˆªå›¾ â”‚ æ„å›¾è¯†åˆ«   â”‚
â”‚ ç”¨æˆ·è¾“å…¥æ¡† â”‚ å®æ—¶åˆ‡æ¢     â”‚ æ¨èç†ç”±   â”‚
â”‚ æ¨¡æ¿æ¨è   â”‚ ç©ºçŠ¶æ€æç¤º   â”‚ å…³é”®è¯æå– â”‚
â”‚ è·³è¿‡æŒ‰é’®   â”‚              â”‚            â”‚
â”‚            â”‚              â”‚            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 3.1.2 å·¦æ ï¼šå¯¹è¯åŒºåŸŸ

**è®¾è®¡è¦ç‚¹**ï¼š
- **èŠå¤©çª—å£æ ·å¼**ï¼šæ¨¡ä»¿å¾®ä¿¡/Slackçš„å¯¹è¯æ°”æ³¡
- **AIè§’è‰²å®šä½**ï¼š"AIäº§å“ç»ç†"ï¼Œä¸»åŠ¨å¼•å¯¼
- **æ¶ˆæ¯ç±»å‹**ï¼š
  - æ–‡å­—æ¶ˆæ¯ï¼ˆéœ€æ±‚æè¿°ï¼‰
  - å¡ç‰‡æ¶ˆæ¯ï¼ˆæ¨¡æ¿æ¨èï¼‰
  - æ“ä½œæŒ‰é’®ï¼ˆé€‰æ‹©/è·³è¿‡ï¼‰

**å¯¹è¯æµç¨‹ç¤ºä¾‹**ï¼š
```
AI: ä½ å¥½ï¼æˆ‘æ˜¯ç§’æ„AIåŠ©æ‰‹ï¼Œæˆ‘å°†å¸®åŠ©ä½ å¿«é€Ÿç”Ÿæˆåº”ç”¨ã€‚è¯·æè¿°ä½ æƒ³è¦çš„åº”ç”¨åŠŸèƒ½ã€‚

ç”¨æˆ·: æˆ‘æƒ³åšä¸€ä¸ªæ°‘å®¿é¢„è®¢å¹³å°

AI: æ”¶åˆ°ï¼æˆ‘ç†è§£ä½ æƒ³åšä¸€ä¸ªæ°‘å®¿é¢„è®¢å¹³å°ã€‚

    æ„å›¾è¯†åˆ«ï¼šä»é›¶è®¾è®¡ âœ“
    è¡Œä¸šåˆ†ç±»ï¼šç”Ÿæ´»æœåŠ¡ > ä½å®¿é¢„è®¢ âœ“

    æˆ‘ä¸ºä½ æ¨èäº†3ä¸ªç›¸å…³æ¨¡æ¿ï¼Œä½ å¯ä»¥é€‰æ‹©ä¸€ä¸ªä½œä¸ºèµ·ç‚¹ï¼Œ
    æˆ–è€…é€‰æ‹©è·³è¿‡ï¼Œæˆ‘ä»¬ä»é›¶å¼€å§‹è®¾è®¡ã€‚

[æ¨¡æ¿å¡ç‰‡1: Airbnbé£æ ¼æ°‘å®¿é¢„è®¢]
[æ¨¡æ¿å¡ç‰‡2: æºç¨‹é£æ ¼é…’åº—é¢„è®¢]
[æ¨¡æ¿å¡ç‰‡3: è‡ªå¦‚é£æ ¼å…¬å¯“ç§Ÿèµ]

[æŒ‰é’®: è·³è¿‡æ¨¡æ¿ï¼Œä»é›¶å¼€å§‹]
```

**æŠ€æœ¯å®ç°**ï¼š
```tsx
// ç»„ä»¶è·¯å¾„ï¼šsrc/components/chat/chat-interface.tsx
interface Message {
  id: string;
  role: 'user' | 'assistant';
  content: string;
  timestamp: Date;
  type: 'text' | 'card' | 'action';
  metadata?: {
    intent?: IntentClassificationResult;
    templates?: IndustryTemplate[];
  };
}

export function ChatInterface() {
  const [messages, setMessages] = useState<Message[]>([]);
  const [input, setInput] = useState('');
  const [isTyping, setIsTyping] = useState(false);

  // å‘é€æ¶ˆæ¯ + è°ƒç”¨æ„å›¾è¯†åˆ«API
  const handleSendMessage = async () => {
    // 1. æ·»åŠ ç”¨æˆ·æ¶ˆæ¯
    const userMessage = { role: 'user', content: input, ... };
    setMessages(prev => [...prev, userMessage]);

    // 2. è°ƒç”¨æ„å›¾è¯†åˆ«API
    setIsTyping(true);
    const intentResult = await classifyIntent(input);

    // 3. AIå“åº” + æ¨¡æ¿æ¨è
    const aiMessage = {
      role: 'assistant',
      content: buildAIResponse(intentResult),
      type: 'card',
      metadata: {
        intent: intentResult,
        templates: intentResult.matchedTemplates
      }
    };
    setMessages(prev => [...prev, aiMessage]);
    setIsTyping(false);
  };

  return (
    <div className="flex flex-col h-full">
      {/* æ¶ˆæ¯åˆ—è¡¨ */}
      <ScrollArea className="flex-1 p-4">
        {messages.map(msg => (
          <MessageBubble key={msg.id} message={msg} />
        ))}
        {isTyping && <TypingIndicator />}
      </ScrollArea>

      {/* è¾“å…¥æ¡† */}
      <div className="border-t p-4">
        <Textarea
          value={input}
          onChange={(e) => setInput(e.target.value)}
          placeholder="æè¿°ä½ æƒ³è¦çš„åº”ç”¨..."
          onKeyPress={(e) => {
            if (e.key === 'Enter' && !e.shiftKey) {
              e.preventDefault();
              handleSendMessage();
            }
          }}
        />
        <Button onClick={handleSendMessage}>å‘é€</Button>
      </div>
    </div>
  );
}
```

#### 3.1.3 ä¸­æ ï¼šé¢„è§ˆåŒºåŸŸ

**è®¾è®¡è¦ç‚¹**ï¼š
- æ˜¾ç¤ºé€‰ä¸­æ¨¡æ¿çš„é¢„è§ˆæˆªå›¾ï¼ˆé™æ€å›¾ç‰‡ï¼‰
- æ”¯æŒé¼ æ ‡æ‚¬åœæ”¾å¤§æŸ¥çœ‹
- ç©ºçŠ¶æ€å‹å¥½æç¤º

**æŠ€æœ¯å®ç°**ï¼š
```tsx
// ç»„ä»¶è·¯å¾„ï¼šsrc/components/preview/template-preview.tsx
export function TemplatePreview({
  template
}: {
  template?: IndustryTemplate
}) {
  if (!template) {
    return (
      <div className="flex items-center justify-center h-full">
        <div className="text-center text-muted-foreground">
          <FileQuestion className="w-16 h-16 mx-auto mb-4" />
          <p>é€‰æ‹©ä¸€ä¸ªæ¨¡æ¿æŸ¥çœ‹é¢„è§ˆ</p>
        </div>
      </div>
    );
  }

  return (
    <div className="relative h-full overflow-hidden">
      <img
        src={template.thumbnail}
        alt={template.name}
        className="w-full h-full object-contain hover:scale-105 transition-transform"
      />
      <div className="absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/60 to-transparent p-4">
        <h3 className="text-white font-semibold">{template.name}</h3>
        <p className="text-white/80 text-sm">{template.category}</p>
      </div>
    </div>
  );
}
```

#### 3.1.4 å³æ ï¼šä¿¡æ¯é¢æ¿

**æ˜¾ç¤ºå†…å®¹**ï¼š
- æ„å›¾è¯†åˆ«ç»“æœï¼ˆå…‹éš†/è®¾è®¡/æ··åˆï¼‰
- ç½®ä¿¡åº¦è¯„åˆ†
- æå–çš„å…³é”®è¯
- æ¨èç†ç”±è¯´æ˜

**æŠ€æœ¯å®ç°**ï¼š
```tsx
// ç»„ä»¶è·¯å¾„ï¼šsrc/components/info/intent-info-panel.tsx
export function IntentInfoPanel({
  intent
}: {
  intent?: IntentClassificationResult
}) {
  if (!intent) return null;

  return (
    <Card>
      <CardHeader>
        <CardTitle>æ„å›¾åˆ†æç»“æœ</CardTitle>
      </CardHeader>
      <CardContent className="space-y-4">
        {/* æ„å›¾ç±»å‹ */}
        <div>
          <Label>è¯†åˆ«æ„å›¾</Label>
          <Badge variant="default" className="mt-1">
            {getIntentLabel(intent.intent)}
          </Badge>
        </div>

        {/* ç½®ä¿¡åº¦ */}
        <div>
          <Label>ç½®ä¿¡åº¦</Label>
          <div className="flex items-center gap-2 mt-1">
            <Progress value={intent.confidence * 100} />
            <span className="text-sm">
              {(intent.confidence * 100).toFixed(1)}%
            </span>
          </div>
        </div>

        {/* å…³é”®è¯ */}
        <div>
          <Label>æå–å…³é”®è¯</Label>
          <div className="flex flex-wrap gap-2 mt-2">
            {intent.extractedKeywords.map(keyword => (
              <Badge key={keyword} variant="outline">
                {keyword}
              </Badge>
            ))}
          </div>
        </div>

        {/* æ¨èç†ç”± */}
        <div>
          <Label>æ¨èç†ç”±</Label>
          <p className="text-sm text-muted-foreground mt-1">
            {intent.reasoning}
          </p>
        </div>

        {/* è­¦å‘Šä¿¡æ¯ */}
        {intent.warnings && intent.warnings.length > 0 && (
          <Alert variant="warning">
            <AlertCircle className="h-4 w-4" />
            <AlertDescription>
              {intent.warnings.join('; ')}
            </AlertDescription>
          </Alert>
        )}
      </CardContent>
    </Card>
  );
}
```

---

### é˜¶æ®µ2ï¼šè®¾è®¡é£æ ¼é€‰æ‹© + AIèƒ½åŠ›é…ç½®

#### 3.2.1 å¸ƒå±€è®¾è®¡ï¼ˆå‚è€ƒå›¾1ï¼‰

**ä¸‰æ å¸ƒå±€**ï¼š
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            â”‚              â”‚            â”‚
â”‚ é£æ ¼é€‰æ‹©   â”‚  å®æ—¶é¢„è§ˆ    â”‚  AIèƒ½åŠ›    â”‚
â”‚   (30%)    â”‚    (40%)     â”‚   (30%)    â”‚
â”‚            â”‚              â”‚            â”‚
â”‚ 7ç§é£æ ¼    â”‚ äº¤äº’åŸå‹     â”‚ NLPèƒ½åŠ›    â”‚
â”‚ å¡ç‰‡åˆ—è¡¨   â”‚ E2B Sandbox  â”‚ Visionèƒ½åŠ› â”‚
â”‚ é€‰ä¸­é«˜äº®   â”‚ å¯ç‚¹å‡»ä½“éªŒ   â”‚ Speechèƒ½åŠ› â”‚
â”‚            â”‚              â”‚ æ¨èé«˜äº®   â”‚
â”‚ [ç¡®è®¤è®¾è®¡] â”‚              â”‚ æ”¯æŒå¤šé€‰   â”‚
â”‚            â”‚              â”‚            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 3.2.2 å·¦æ ï¼šé£æ ¼é€‰æ‹©é¢æ¿

**SuperDesign 7ç§é£æ ¼**ï¼š
```typescript
const DESIGN_STYLES = [
  {
    id: 'A',
    name: 'ç°ä»£æç®€',
    description: 'å¤§ç•™ç™½ã€å¡ç‰‡å¼ã€ç®€æ´å›¾æ ‡',
    thumbnail: '/styles/modern-minimal.jpg',
    tags: ['ç§‘æŠ€', 'ä¸“ä¸š', 'é«˜ç«¯']
  },
  {
    id: 'B',
    name: 'æ´»åŠ›æ—¶å°š',
    description: 'æ¸å˜è‰²å½©ã€åœ†è§’è®¾è®¡ã€ç½‘æ ¼å¸ƒå±€',
    thumbnail: '/styles/vibrant-modern.jpg',
    tags: ['å¹´è½»', 'æ½®æµ', 'ç¤¾äº¤']
  },
  {
    id: 'C',
    name: 'ç»å…¸ä¸“ä¸š',
    description: 'ä¼ ç»Ÿå¸ƒå±€ã€ä¿¡æ¯å¯†é›†ã€åˆ—è¡¨å¼',
    thumbnail: '/styles/classic-professional.jpg',
    tags: ['ä¼ä¸š', 'ä¸¥è°¨', 'ä¿¡æ¯']
  },
  {
    id: 'D',
    name: 'æœªæ¥ç§‘æŠ€',
    description: 'æ·±è‰²ä¸»é¢˜ã€éœ“è™¹è‰²å½©ã€3Då…ƒç´ ',
    thumbnail: '/styles/futuristic-tech.jpg',
    tags: ['ç§‘å¹»', 'ç‚«é…·', 'æ¸¸æˆ']
  },
  {
    id: 'E',
    name: 'æ²‰æµ¸å¼3D',
    description: 'æ¯›ç»ç’ƒã€æ·±åº¦é˜´å½±ã€è§†å·®æ»šåŠ¨',
    thumbnail: '/styles/immersive-3d.jpg',
    tags: ['æ²‰æµ¸', 'ç«‹ä½“', 'è‰ºæœ¯']
  },
  {
    id: 'F',
    name: 'æ¸¸æˆåŒ–è®¾è®¡',
    description: 'å¡é€šé£æ ¼ã€å¥–åŠ±åé¦ˆã€æˆå°±ç³»ç»Ÿ',
    thumbnail: '/styles/gamification.jpg',
    tags: ['è¶£å‘³', 'äº’åŠ¨', 'æ¸¸æˆ']
  },
  {
    id: 'G',
    name: 'è‡ªç„¶æµåŠ¨',
    description: 'æœ‰æœºæ›²çº¿ã€è‡ªç„¶é…è‰²ã€æµä½“åŠ¨ç”»',
    thumbnail: '/styles/organic-flow.jpg',
    tags: ['è‡ªç„¶', 'æŸ”å’Œ', 'èˆ’é€‚']
  }
];
```

**æŠ€æœ¯å®ç°**ï¼š
```tsx
// ç»„ä»¶è·¯å¾„ï¼šsrc/components/design/style-selector.tsx
export function StyleSelector({
  onStyleSelect,
  onConfirm
}: StyleSelectorProps) {
  const [selectedStyle, setSelectedStyle] = useState<string | null>(null);
  const [isGenerating, setIsGenerating] = useState(false);

  const handleStyleClick = async (styleId: string) => {
    setSelectedStyle(styleId);
    setIsGenerating(true);

    // è§¦å‘OpenLovableç”Ÿæˆé¢„è§ˆï¼ˆ5-10ç§’ï¼‰
    await onStyleSelect(styleId);

    setIsGenerating(false);
  };

  return (
    <div className="space-y-4">
      <div className="grid gap-4">
        {DESIGN_STYLES.map(style => (
          <Card
            key={style.id}
            className={cn(
              "cursor-pointer transition-all",
              selectedStyle === style.id && "ring-2 ring-primary"
            )}
            onClick={() => handleStyleClick(style.id)}
          >
            <CardContent className="p-4">
              <div className="flex gap-4">
                <img
                  src={style.thumbnail}
                  alt={style.name}
                  className="w-24 h-24 rounded-lg object-cover"
                />
                <div className="flex-1">
                  <h3 className="font-semibold mb-1">{style.name}</h3>
                  <p className="text-sm text-muted-foreground mb-2">
                    {style.description}
                  </p>
                  <div className="flex gap-2">
                    {style.tags.map(tag => (
                      <Badge key={tag} variant="outline" className="text-xs">
                        {tag}
                      </Badge>
                    ))}
                  </div>
                </div>
                {selectedStyle === style.id && (
                  <CheckCircle2 className="w-6 h-6 text-primary" />
                )}
              </div>
            </CardContent>
          </Card>
        ))}
      </div>

      {/* ç¡®è®¤è®¾è®¡æŒ‰é’® - å…³é”®ç¡®è®¤ç‚¹ âš ï¸ */}
      <Button
        className="w-full"
        size="lg"
        disabled={!selectedStyle || isGenerating}
        onClick={onConfirm}
      >
        {isGenerating ? (
          <>
            <Loader2 className="w-4 h-4 mr-2 animate-spin" />
            ç”Ÿæˆé¢„è§ˆä¸­...
          </>
        ) : (
          <>
            <Sparkles className="w-4 h-4 mr-2" />
            ç¡®è®¤è®¾è®¡ï¼Œå¼€å§‹ç”Ÿæˆåç«¯
          </>
        )}
      </Button>
    </div>
  );
}
```

#### 3.2.3 ä¸­æ ï¼šå®æ—¶é¢„è§ˆï¼ˆå…³é”®ï¼ï¼‰

**OpenLovable E2B Sandboxé›†æˆ**ï¼š
- æ˜¾ç¤ºå¯äº¤äº’çš„ReactåŸå‹
- 5-10ç§’å¿«é€Ÿç”Ÿæˆ
- æ”¯æŒç‚¹å‡»ã€æ»šåŠ¨ç­‰äº¤äº’

**æŠ€æœ¯å®ç°**ï¼š
```tsx
// ç»„ä»¶è·¯å¾„ï¼šsrc/components/preview/interactive-preview.tsx
export function InteractivePreview({
  styleId,
  requirement
}: InteractivePreviewProps) {
  const [sandboxUrl, setSandboxUrl] = useState<string | null>(null);
  const [isLoading, setIsLoading] = useState(false);
  const [error, setError] = useState<string | null>(null);

  useEffect(() => {
    if (!styleId || !requirement) return;

    const generatePreview = async () => {
      setIsLoading(true);
      setError(null);

      try {
        // è°ƒç”¨OpenLovableç”Ÿæˆé¢„è§ˆ
        const response = await fetch('/api/v1/openlovable/generate', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({
            userRequirement: requirement,
            styleId: styleId,
            streaming: false,
            timeoutSeconds: 15
          })
        });

        const data = await response.json();

        if (data.success && data.previewUrl) {
          setSandboxUrl(data.previewUrl);
        } else {
          throw new Error(data.error || 'ç”Ÿæˆé¢„è§ˆå¤±è´¥');
        }
      } catch (err) {
        console.error('é¢„è§ˆç”Ÿæˆå¤±è´¥:', err);
        setError(err instanceof Error ? err.message : 'ç”Ÿæˆå¤±è´¥');
      } finally {
        setIsLoading(false);
      }
    };

    generatePreview();
  }, [styleId, requirement]);

  if (isLoading) {
    return (
      <div className="flex items-center justify-center h-full">
        <div className="text-center">
          <Loader2 className="w-12 h-12 animate-spin mx-auto mb-4 text-primary" />
          <p className="text-muted-foreground">æ­£åœ¨ç”Ÿæˆé¢„è§ˆ...</p>
          <p className="text-sm text-muted-foreground">é¢„è®¡éœ€è¦5-10ç§’</p>
        </div>
      </div>
    );
  }

  if (error) {
    return (
      <div className="flex items-center justify-center h-full">
        <Alert variant="destructive">
          <AlertCircle className="h-4 w-4" />
          <AlertDescription>{error}</AlertDescription>
        </Alert>
      </div>
    );
  }

  if (!sandboxUrl) {
    return (
      <div className="flex items-center justify-center h-full">
        <p className="text-muted-foreground">é€‰æ‹©é£æ ¼åæŸ¥çœ‹é¢„è§ˆ</p>
      </div>
    );
  }

  return (
    <div className="relative h-full">
      {/* E2B Sandbox iframe */}
      <iframe
        src={sandboxUrl}
        className="w-full h-full border-0"
        title="Interactive Preview"
        sandbox="allow-scripts allow-same-origin"
      />

      {/* é¢„è§ˆæç¤º */}
      <div className="absolute top-4 left-4 bg-black/60 text-white px-3 py-2 rounded-lg text-sm">
        <Sparkles className="w-4 h-4 inline mr-2" />
        å¯äº¤äº’é¢„è§ˆ - ç‚¹å‡»ä½“éªŒ
      </div>
    </div>
  );
}
```

#### 3.2.4 å³æ ï¼šAIèƒ½åŠ›é€‰æ‹©é¢æ¿ï¼ˆæ–°å¢ï¼ï¼‰â­

**AIèƒ½åŠ›åˆ†ç±»**ï¼š
```typescript
const AI_CAPABILITIES = {
  nlp: [
    {
      id: 'text-generation',
      name: 'æ–‡æœ¬ç”Ÿæˆ',
      description: 'è‡ªåŠ¨ç”Ÿæˆæ–‡ç« ã€è¯„è®ºã€æè¿°',
      icon: FileText,
      recommended: true
    },
    {
      id: 'sentiment-analysis',
      name: 'æƒ…æ„Ÿåˆ†æ',
      description: 'åˆ†æç”¨æˆ·è¯„è®ºçš„æƒ…æ„Ÿå€¾å‘',
      icon: Heart,
      recommended: false
    },
    {
      id: 'keyword-extraction',
      name: 'å…³é”®è¯æå–',
      description: 'ä»æ–‡æœ¬ä¸­æå–æ ¸å¿ƒå…³é”®è¯',
      icon: Tag,
      recommended: true
    }
  ],
  vision: [
    {
      id: 'image-recognition',
      name: 'å›¾åƒè¯†åˆ«',
      description: 'è¯†åˆ«å›¾ç‰‡ä¸­çš„ç‰©ä½“å’Œåœºæ™¯',
      icon: Camera,
      recommended: true
    },
    {
      id: 'ocr',
      name: 'æ–‡å­—è¯†åˆ«OCR',
      description: 'æå–å›¾ç‰‡ä¸­çš„æ–‡å­—å†…å®¹',
      icon: ScanText,
      recommended: false
    },
    {
      id: 'face-detection',
      name: 'äººè„¸æ£€æµ‹',
      description: 'æ£€æµ‹å’Œè¯†åˆ«äººè„¸',
      icon: User,
      recommended: false
    }
  ],
  speech: [
    {
      id: 'speech-recognition',
      name: 'è¯­éŸ³è¯†åˆ«',
      description: 'å°†è¯­éŸ³è½¬æ¢ä¸ºæ–‡å­—',
      icon: Mic,
      recommended: false
    },
    {
      id: 'text-to-speech',
      name: 'è¯­éŸ³åˆæˆ',
      description: 'å°†æ–‡å­—è½¬æ¢ä¸ºè¯­éŸ³',
      icon: Volume2,
      recommended: false
    }
  ]
};
```

**æŠ€æœ¯å®ç°**ï¼š
```tsx
// ç»„ä»¶è·¯å¾„ï¼šsrc/components/ai/ai-capability-selector.tsx
export function AICapabilitySelector({
  onSelectionChange
}: AICapabilitySelectorProps) {
  const [selectedCapabilities, setSelectedCapabilities] = useState<string[]>([]);

  const toggleCapability = (capabilityId: string) => {
    setSelectedCapabilities(prev => {
      const newSelection = prev.includes(capabilityId)
        ? prev.filter(id => id !== capabilityId)
        : [...prev, capabilityId];

      onSelectionChange(newSelection);
      return newSelection;
    });
  };

  return (
    <Card>
      <CardHeader>
        <CardTitle className="flex items-center gap-2">
          <Sparkles className="w-5 h-5" />
          AIèƒ½åŠ›é€‰æ‹©
        </CardTitle>
        <CardDescription>
          æ ¹æ®ä½ çš„éœ€æ±‚ï¼Œæˆ‘ä»¬æ¨èä»¥ä¸‹AIèƒ½åŠ›ï¼ˆå¯å¤šé€‰ï¼‰
        </CardDescription>
      </CardHeader>
      <CardContent className="space-y-6">
        {/* NLPèƒ½åŠ› */}
        <div>
          <h4 className="font-semibold mb-3 flex items-center gap-2">
            <FileText className="w-4 h-4" />
            è‡ªç„¶è¯­è¨€å¤„ç†
          </h4>
          <div className="space-y-2">
            {AI_CAPABILITIES.nlp.map(capability => (
              <AICapabilityCard
                key={capability.id}
                capability={capability}
                selected={selectedCapabilities.includes(capability.id)}
                onToggle={() => toggleCapability(capability.id)}
              />
            ))}
          </div>
        </div>

        {/* Visionèƒ½åŠ› */}
        <div>
          <h4 className="font-semibold mb-3 flex items-center gap-2">
            <Camera className="w-4 h-4" />
            è®¡ç®—æœºè§†è§‰
          </h4>
          <div className="space-y-2">
            {AI_CAPABILITIES.vision.map(capability => (
              <AICapabilityCard
                key={capability.id}
                capability={capability}
                selected={selectedCapabilities.includes(capability.id)}
                onToggle={() => toggleCapability(capability.id)}
              />
            ))}
          </div>
        </div>

        {/* Speechèƒ½åŠ› */}
        <div>
          <h4 className="font-semibold mb-3 flex items-center gap-2">
            <Mic className="w-4 h-4" />
            è¯­éŸ³å¤„ç†
          </h4>
          <div className="space-y-2">
            {AI_CAPABILITIES.speech.map(capability => (
              <AICapabilityCard
                key={capability.id}
                capability={capability}
                selected={selectedCapabilities.includes(capability.id)}
                onToggle={() => toggleCapability(capability.id)}
              />
            ))}
          </div>
        </div>

        {/* å·²é€‰æ‹©ç»Ÿè®¡ */}
        <div className="pt-4 border-t">
          <div className="flex items-center justify-between text-sm">
            <span className="text-muted-foreground">
              å·²é€‰æ‹© {selectedCapabilities.length} é¡¹AIèƒ½åŠ›
            </span>
            {selectedCapabilities.length > 0 && (
              <Button
                variant="ghost"
                size="sm"
                onClick={() => {
                  setSelectedCapabilities([]);
                  onSelectionChange([]);
                }}
              >
                æ¸…ç©º
              </Button>
            )}
          </div>
        </div>
      </CardContent>
    </Card>
  );
}

// AIèƒ½åŠ›å¡ç‰‡ç»„ä»¶
function AICapabilityCard({
  capability,
  selected,
  onToggle
}: AICapabilityCardProps) {
  const Icon = capability.icon;

  return (
    <div
      className={cn(
        "flex items-center gap-3 p-3 rounded-lg border cursor-pointer transition-all",
        selected
          ? "border-primary bg-primary/5"
          : "border-border hover:border-primary/50"
      )}
      onClick={onToggle}
    >
      <Checkbox
        checked={selected}
        onCheckedChange={onToggle}
      />
      <Icon className="w-5 h-5 text-primary" />
      <div className="flex-1">
        <div className="flex items-center gap-2">
          <span className="font-medium text-sm">{capability.name}</span>
          {capability.recommended && (
            <Badge variant="secondary" className="text-xs">
              æ¨è
            </Badge>
          )}
        </div>
        <p className="text-xs text-muted-foreground mt-0.5">
          {capability.description}
        </p>
      </div>
    </div>
  );
}
```

---

### é˜¶æ®µ3ï¼šæ‰§è¡Œç¡®è®¤ + å®æ—¶è¿›åº¦ï¼ˆå‚è€ƒå›¾2ï¼‰

#### 3.3.1 å¸ƒå±€è®¾è®¡ï¼ˆå·¦å³åˆ†å±ï¼‰

**åˆ†å±å¸ƒå±€**ï¼š
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                â”‚                     â”‚
â”‚  éœ€æ±‚é…ç½®æ€»ç»“  â”‚  å®æ—¶æ‰§è¡Œè¿›åº¦       â”‚
â”‚    (35%)       â”‚      (65%)          â”‚
â”‚                â”‚                     â”‚
â”‚ 1. åŸå§‹éœ€æ±‚    â”‚ â”Œâ”€ Plan Agent â”€â”€â”€â”€â”€â”â”‚
â”‚ 2. é€‰æ‹©çš„æ¨¡æ¿  â”‚ â”‚ âœ“ æ„å›¾è¯†åˆ«å®Œæˆ    â”‚â”‚
â”‚ 3. é€‰æ‹©çš„é£æ ¼  â”‚ â”‚ âœ“ æ¨¡æ¿åŒ¹é…å®Œæˆ    â”‚â”‚
â”‚ 4. AIèƒ½åŠ›æ¸…å•  â”‚ â”‚ âœ“ åŸå‹ç”Ÿæˆå®Œæˆ    â”‚â”‚
â”‚ 5. é…ç½®å‚æ•°    â”‚ â”‚ âœ“ ç”¨æˆ·ç¡®è®¤å®Œæˆ    â”‚â”‚
â”‚                â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚ [ä¿®æ”¹é…ç½®]     â”‚                     â”‚
â”‚ [å–æ¶ˆç”Ÿæˆ]     â”‚ â”Œâ”€ Execute Agent â”€â”€â”â”‚
â”‚                â”‚ â”‚ ğŸ”„ æ•°æ®åº“è®¾è®¡ä¸­... â”‚â”‚
â”‚                â”‚ â”‚ â³ åç«¯ä»£ç ç”Ÿæˆ    â”‚â”‚
â”‚                â”‚ â”‚ â³ å‰ç«¯APIé›†æˆ     â”‚â”‚
â”‚                â”‚ â”‚ â³ AIèƒ½åŠ›é›†æˆ      â”‚â”‚
â”‚                â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                â”‚                     â”‚
â”‚                â”‚ â”Œâ”€ Validate Agent â”€â”â”‚
â”‚                â”‚ â”‚ â³ å¤šå¹³å°ç¼–è¯‘      â”‚â”‚
â”‚                â”‚ â”‚ â³ æ²™ç®±éªŒè¯        â”‚â”‚
â”‚                â”‚ â”‚ â³ æ€§èƒ½æµ‹è¯•        â”‚â”‚
â”‚                â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                â”‚                     â”‚
â”‚                â”‚ ä»£ç å®æ—¶é¢„è§ˆï¼š      â”‚
â”‚                â”‚ src/entities/...    â”‚
â”‚                â”‚ src/services/...    â”‚
â”‚                â”‚                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 3.3.2 å·¦æ ï¼šéœ€æ±‚é…ç½®æ€»ç»“

**æŠ€æœ¯å®ç°**ï¼š
```tsx
// ç»„ä»¶è·¯å¾„ï¼šsrc/components/summary/requirement-summary.tsx
export function RequirementSummary({
  requirement,
  template,
  style,
  aiCapabilities,
  config,
  onEdit,
  onCancel
}: RequirementSummaryProps) {
  return (
    <Card>
      <CardHeader>
        <CardTitle>éœ€æ±‚é…ç½®æ€»ç»“</CardTitle>
        <CardDescription>
          ç¡®è®¤ä»¥ä¸‹é…ç½®æ— è¯¯åï¼Œå°†å¼€å§‹ç”Ÿæˆåç«¯ä»£ç 
        </CardDescription>
      </CardHeader>
      <CardContent className="space-y-4">
        {/* 1. åŸå§‹éœ€æ±‚ */}
        <div>
          <Label className="flex items-center gap-2">
            <FileText className="w-4 h-4" />
            åŸå§‹éœ€æ±‚
          </Label>
          <div className="mt-2 p-3 bg-muted rounded-lg">
            <p className="text-sm">{requirement}</p>
          </div>
        </div>

        {/* 2. é€‰æ‹©çš„æ¨¡æ¿ */}
        {template && (
          <div>
            <Label className="flex items-center gap-2">
              <Layers className="w-4 h-4" />
              è¡Œä¸šæ¨¡æ¿
            </Label>
            <div className="mt-2 p-3 bg-muted rounded-lg">
              <div className="flex items-center gap-3">
                <img
                  src={template.thumbnail}
                  alt={template.name}
                  className="w-12 h-12 rounded object-cover"
                />
                <div>
                  <p className="font-medium text-sm">{template.name}</p>
                  <p className="text-xs text-muted-foreground">
                    {template.category}
                  </p>
                </div>
              </div>
            </div>
          </div>
        )}

        {/* 3. é€‰æ‹©çš„é£æ ¼ */}
        <div>
          <Label className="flex items-center gap-2">
            <Palette className="w-4 h-4" />
            è®¾è®¡é£æ ¼
          </Label>
          <div className="mt-2">
            <Badge variant="default">{style.name}</Badge>
          </div>
        </div>

        {/* 4. AIèƒ½åŠ›æ¸…å• */}
        {aiCapabilities.length > 0 && (
          <div>
            <Label className="flex items-center gap-2">
              <Sparkles className="w-4 h-4" />
              AIèƒ½åŠ› ({aiCapabilities.length})
            </Label>
            <div className="mt-2 flex flex-wrap gap-2">
              {aiCapabilities.map(cap => (
                <Badge key={cap} variant="outline">
                  {getCapabilityName(cap)}
                </Badge>
              ))}
            </div>
          </div>
        )}

        {/* 5. é…ç½®å‚æ•° */}
        <div>
          <Label>é…ç½®å‚æ•°</Label>
          <div className="mt-2 space-y-2 text-sm">
            <div className="flex justify-between">
              <span className="text-muted-foreground">AIæ¨¡å‹</span>
              <span className="font-medium">{config.model}</span>
            </div>
            <div className="flex justify-between">
              <span className="text-muted-foreground">è´¨é‡é˜ˆå€¼</span>
              <span className="font-medium">{config.qualityThreshold}%</span>
            </div>
            <div className="flex justify-between">
              <span className="text-muted-foreground">è·³è¿‡éªŒè¯</span>
              <span className="font-medium">
                {config.skipValidation ? 'æ˜¯' : 'å¦'}
              </span>
            </div>
          </div>
        </div>

        {/* æ“ä½œæŒ‰é’® */}
        <div className="pt-4 border-t space-y-2">
          <Button
            variant="outline"
            className="w-full"
            onClick={onEdit}
          >
            <Edit className="w-4 h-4 mr-2" />
            ä¿®æ”¹é…ç½®
          </Button>
          <Button
            variant="destructive"
            className="w-full"
            onClick={onCancel}
          >
            <X className="w-4 h-4 mr-2" />
            å–æ¶ˆç”Ÿæˆ
          </Button>
        </div>
      </CardContent>
    </Card>
  );
}
```

#### 3.3.3 å³æ ï¼šå®æ—¶æ‰§è¡Œè¿›åº¦ï¼ˆå…³é”®ï¼ï¼‰â­

**WebSocketå®æ—¶æ¨é€**ï¼š
- Plan Agentè¿›åº¦ï¼ˆå·²å®Œæˆï¼‰
- Execute Agentè¿›åº¦ï¼ˆå½“å‰æ‰§è¡Œï¼‰
- Validate Agentè¿›åº¦ï¼ˆå¾…æ‰§è¡Œï¼‰
- ç”Ÿæˆçš„ä»£ç å®æ—¶å±•ç¤º

**æŠ€æœ¯å®ç°**ï¼š
```tsx
// ç»„ä»¶è·¯å¾„ï¼šsrc/components/execution/realtime-execution-panel.tsx
export function RealtimeExecutionPanel({
  taskId
}: RealtimeExecutionPanelProps) {
  const {
    agents,
    currentAgent,
    progress,
    generatedCode,
    isConnected
  } = useGenerationWebSocket({ taskId });

  return (
    <div className="h-full flex flex-col">
      {/* è¿æ¥çŠ¶æ€ */}
      <div className="border-b p-4">
        <div className="flex items-center gap-2">
          {isConnected ? (
            <>
              <Activity className="w-4 h-4 text-green-500 animate-pulse" />
              <span className="text-sm text-green-600">å®æ—¶è¿æ¥ä¸­</span>
            </>
          ) : (
            <>
              <AlertCircle className="w-4 h-4 text-orange-500" />
              <span className="text-sm text-orange-600">è¿æ¥æ–­å¼€</span>
            </>
          )}
        </div>
      </div>

      {/* Agentæ‰§è¡Œè¿›åº¦ */}
      <ScrollArea className="flex-1 p-4">
        <div className="space-y-4">
          {agents.map(agent => (
            <AgentProgressCard
              key={agent.id}
              agent={agent}
              isCurrent={currentAgent === agent.type}
            />
          ))}
        </div>

        {/* ä»£ç å®æ—¶é¢„è§ˆ */}
        {generatedCode && generatedCode.length > 0 && (
          <div className="mt-6">
            <h4 className="font-semibold mb-3 flex items-center gap-2">
              <Code className="w-4 h-4" />
              ç”Ÿæˆçš„ä»£ç 
            </h4>
            <Tabs defaultValue="entity">
              <TabsList>
                <TabsTrigger value="entity">Entity</TabsTrigger>
                <TabsTrigger value="service">Service</TabsTrigger>
                <TabsTrigger value="controller">Controller</TabsTrigger>
              </TabsList>
              {generatedCode.map(file => (
                <TabsContent key={file.path} value={file.type}>
                  <Card>
                    <CardHeader>
                      <CardTitle className="text-sm">
                        {file.path}
                      </CardTitle>
                    </CardHeader>
                    <CardContent>
                      <SyntaxHighlighter
                        language="java"
                        style={vscDarkPlus}
                      >
                        {file.content}
                      </SyntaxHighlighter>
                    </CardContent>
                  </Card>
                </TabsContent>
              ))}
            </Tabs>
          </div>
        )}
      </ScrollArea>
    </div>
  );
}

// Agentè¿›åº¦å¡ç‰‡
function AgentProgressCard({
  agent,
  isCurrent
}: AgentProgressCardProps) {
  return (
    <Card className={cn(
      "transition-all",
      isCurrent && "border-primary shadow-lg"
    )}>
      <CardContent className="p-4">
        <div className="flex items-center justify-between mb-2">
          <div className="flex items-center gap-3">
            {agent.status === 'completed' && (
              <CheckCircle2 className="w-5 h-5 text-green-500" />
            )}
            {agent.status === 'running' && (
              <Loader2 className="w-5 h-5 text-primary animate-spin" />
            )}
            {agent.status === 'pending' && (
              <Clock className="w-5 h-5 text-muted-foreground" />
            )}
            <div>
              <h4 className="font-semibold">{agent.name}</h4>
              {agent.status === 'running' && agent.currentStep && (
                <p className="text-sm text-muted-foreground">
                  {agent.currentStep}
                </p>
              )}
            </div>
          </div>
          <Badge variant={
            agent.status === 'completed' ? 'default' :
            agent.status === 'running' ? 'secondary' :
            'outline'
          }>
            {getStatusLabel(agent.status)}
          </Badge>
        </div>

        {/* è¿›åº¦æ¡ */}
        {agent.status === 'running' && (
          <div className="mt-3">
            <div className="flex items-center justify-between text-sm mb-1">
              <span>è¿›åº¦</span>
              <span>{agent.progress}%</span>
            </div>
            <Progress value={agent.progress} />
          </div>
        )}

        {/* å­æ­¥éª¤åˆ—è¡¨ */}
        {agent.status === 'running' && agent.steps && (
          <div className="mt-3 space-y-1">
            {agent.steps.map(step => (
              <div key={step.id} className="flex items-center gap-2 text-sm">
                {step.status === 'completed' && (
                  <Check className="w-3 h-3 text-green-500" />
                )}
                {step.status === 'running' && (
                  <Loader2 className="w-3 h-3 animate-spin" />
                )}
                {step.status === 'pending' && (
                  <Circle className="w-3 h-3 text-muted-foreground" />
                )}
                <span className={cn(
                  step.status === 'completed' && "text-muted-foreground line-through",
                  step.status === 'running' && "text-foreground font-medium"
                )}>
                  {step.name}
                </span>
              </div>
            ))}
          </div>
        )}

        {/* å®Œæˆæ—¶é—´ */}
        {agent.status === 'completed' && agent.duration && (
          <div className="mt-3 text-xs text-muted-foreground">
            è€—æ—¶: {(agent.duration / 1000).toFixed(1)}ç§’
          </div>
        )}
      </CardContent>
    </Card>
  );
}
```

---

### é˜¶æ®µ4ï¼šå‘å¸ƒå’Œä¸‹è½½

#### 3.4.1 å¸ƒå±€è®¾è®¡ï¼ˆå‚è€ƒå›¾1å³ä¾§ï¼‰

**å¡ç‰‡ç½‘æ ¼å¸ƒå±€**ï¼š
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ç”Ÿæˆç»“æœæ€»è§ˆ                    â”‚
â”‚  â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”              â”‚
â”‚  â”‚85 â”‚ 4 â”‚12 â”‚48hâ”‚              â”‚
â”‚  â”‚åˆ† â”‚æ¨¡å—â”‚ç»„ä»¶â”‚å·¥æ—¶â”‚             â”‚
â”‚  â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å‘å¸ƒé€‰é¡¹ï¼ˆå¤šé€‰ï¼‰                â”‚
â”‚                                  â”‚
â”‚  â˜‘ å‘å¸ƒä¸ºå°ç¨‹åºï¼ˆå¾®ä¿¡/æ”¯ä»˜å®ï¼‰   â”‚
â”‚  â˜‘ å‘å¸ƒä¸ºå®‰å“åº”ç”¨                â”‚
â”‚  â˜‘ å‘å¸ƒä¸ºé¸¿è’™åº”ç”¨                â”‚
â”‚  â˜‘ å‘å¸ƒä¸ºæ‰‹æœºç½‘é¡µ                â”‚
â”‚  â˜‘ è¿è¥åå°ï¼ˆé»˜è®¤é€‰ä¸­ï¼‰          â”‚
â”‚                                  â”‚
â”‚  [ä¸€é”®å‘å¸ƒæ‰€æœ‰å¹³å°]              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å¿«é€Ÿæ“ä½œ                        â”‚
â”‚                                  â”‚
â”‚  [å¯¼å‡ºæºä»£ç ]  [é¢„è§ˆåº”ç”¨]        â”‚
â”‚  [ç”Ÿæˆæ–°åº”ç”¨]  [æŸ¥çœ‹æ–‡æ¡£]        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 3.4.2 å‘å¸ƒé€‰é¡¹ç»„ä»¶

**æŠ€æœ¯å®ç°**ï¼š
```tsx
// ç»„ä»¶è·¯å¾„ï¼šsrc/components/publish/multi-platform-publisher.tsx
const PLATFORMS = [
  {
    id: 'miniprogram',
    name: 'å°ç¨‹åº',
    description: 'å¾®ä¿¡å°ç¨‹åº / æ”¯ä»˜å®å°ç¨‹åº',
    icon: Smartphone,
    defaultChecked: true
  },
  {
    id: 'android',
    name: 'å®‰å“åº”ç”¨',
    description: 'Android APK / Google Play',
    icon: Smartphone,
    defaultChecked: true
  },
  {
    id: 'harmonyos',
    name: 'é¸¿è’™åº”ç”¨',
    description: 'HarmonyOS NEXT',
    icon: Smartphone,
    defaultChecked: true
  },
  {
    id: 'mobile-web',
    name: 'æ‰‹æœºç½‘é¡µ',
    description: 'PWA / å“åº”å¼ç½‘é¡µ',
    icon: Globe,
    defaultChecked: true
  },
  {
    id: 'admin-panel',
    name: 'è¿è¥åå°',
    description: 'Webç®¡ç†åå°',
    icon: LayoutDashboard,
    defaultChecked: true  // é»˜è®¤é€‰ä¸­
  }
];

export function MultiPlatformPublisher({
  appSpecId
}: MultiPlatformPublisherProps) {
  const [selectedPlatforms, setSelectedPlatforms] = useState<string[]>(
    PLATFORMS.filter(p => p.defaultChecked).map(p => p.id)
  );
  const [isPublishing, setIsPublishing] = useState(false);
  const [publishResults, setPublishResults] = useState<PublishResult[]>([]);

  const togglePlatform = (platformId: string) => {
    setSelectedPlatforms(prev =>
      prev.includes(platformId)
        ? prev.filter(id => id !== platformId)
        : [...prev, platformId]
    );
  };

  const handlePublishAll = async () => {
    setIsPublishing(true);
    setPublishResults([]);

    try {
      // å¹¶è¡Œå‘å¸ƒæ‰€æœ‰é€‰ä¸­çš„å¹³å°
      const promises = selectedPlatforms.map(platformId =>
        publishToPlatform(appSpecId, platformId)
      );

      const results = await Promise.allSettled(promises);

      const formattedResults = results.map((result, index) => {
        const platformId = selectedPlatforms[index];
        const platform = PLATFORMS.find(p => p.id === platformId)!;

        if (result.status === 'fulfilled') {
          return {
            platform: platform.name,
            success: true,
            url: result.value.url,
            message: 'å‘å¸ƒæˆåŠŸ'
          };
        } else {
          return {
            platform: platform.name,
            success: false,
            error: result.reason?.message || 'å‘å¸ƒå¤±è´¥',
            message: 'å‘å¸ƒå¤±è´¥'
          };
        }
      });

      setPublishResults(formattedResults);
    } catch (error) {
      console.error('å‘å¸ƒå¤±è´¥:', error);
    } finally {
      setIsPublishing(false);
    }
  };

  return (
    <div className="space-y-6">
      {/* å‘å¸ƒé€‰é¡¹ */}
      <Card>
        <CardHeader>
          <CardTitle className="flex items-center gap-2">
            <Rocket className="w-5 h-5" />
            é€‰æ‹©å‘å¸ƒå¹³å°
          </CardTitle>
          <CardDescription>
            æ”¯æŒä¸€é”®å‘å¸ƒåˆ°å¤šä¸ªå¹³å°ï¼ˆå¯å¤šé€‰ï¼‰
          </CardDescription>
        </CardHeader>
        <CardContent className="space-y-3">
          {PLATFORMS.map(platform => {
            const Icon = platform.icon;
            const isSelected = selectedPlatforms.includes(platform.id);

            return (
              <div
                key={platform.id}
                className={cn(
                  "flex items-center gap-3 p-4 rounded-lg border cursor-pointer transition-all",
                  isSelected
                    ? "border-primary bg-primary/5"
                    : "border-border hover:border-primary/50"
                )}
                onClick={() => togglePlatform(platform.id)}
              >
                <Checkbox
                  checked={isSelected}
                  onCheckedChange={() => togglePlatform(platform.id)}
                />
                <Icon className="w-5 h-5 text-primary" />
                <div className="flex-1">
                  <div className="font-medium">{platform.name}</div>
                  <div className="text-sm text-muted-foreground">
                    {platform.description}
                  </div>
                </div>
                {platform.defaultChecked && (
                  <Badge variant="secondary">æ¨è</Badge>
                )}
              </div>
            );
          })}
        </CardContent>
        <CardFooter>
          <Button
            className="w-full"
            size="lg"
            disabled={selectedPlatforms.length === 0 || isPublishing}
            onClick={handlePublishAll}
          >
            {isPublishing ? (
              <>
                <Loader2 className="w-4 h-4 mr-2 animate-spin" />
                å‘å¸ƒä¸­...
              </>
            ) : (
              <>
                <Rocket className="w-4 h-4 mr-2" />
                ä¸€é”®å‘å¸ƒ ({selectedPlatforms.length} ä¸ªå¹³å°)
              </>
            )}
          </Button>
        </CardFooter>
      </Card>

      {/* å‘å¸ƒç»“æœ */}
      {publishResults.length > 0 && (
        <Card>
          <CardHeader>
            <CardTitle>å‘å¸ƒç»“æœ</CardTitle>
          </CardHeader>
          <CardContent className="space-y-3">
            {publishResults.map((result, index) => (
              <div
                key={index}
                className="flex items-center justify-between p-3 bg-muted rounded-lg"
              >
                <div className="flex items-center gap-3">
                  {result.success ? (
                    <CheckCircle2 className="w-5 h-5 text-green-500" />
                  ) : (
                    <XCircle className="w-5 h-5 text-red-500" />
                  )}
                  <div>
                    <p className="font-medium">{result.platform}</p>
                    <p className="text-sm text-muted-foreground">
                      {result.message}
                    </p>
                  </div>
                </div>
                {result.success && result.url && (
                  <Button
                    variant="outline"
                    size="sm"
                    onClick={() => window.open(result.url, '_blank')}
                  >
                    <ExternalLink className="w-4 h-4 mr-1" />
                    è®¿é—®
                  </Button>
                )}
              </div>
            ))}
          </CardContent>
        </Card>
      )}
    </div>
  );
}
```

---

## 4. æŠ€æœ¯å®ç°æ–¹æ¡ˆ

### 4.1 æ–°å»ºé¡µé¢è·¯ç”±

**åˆ›å»ºæ–°çš„ç»Ÿä¸€å…¥å£é¡µé¢**ï¼š
```
src/app/studio/page.tsx (æ–°å»º)
```

**æ›¿ä»£ç°æœ‰çš„**ï¼š
- `src/app/create/page.tsx`ï¼ˆä¿ç•™ä½œä¸ºåå¤‡ï¼‰
- `src/app/wizard/[id]/page.tsx`ï¼ˆä¿ç•™ä½œä¸ºå­è·¯ç”±ï¼‰

### 4.2 çŠ¶æ€ç®¡ç†

**ä½¿ç”¨Zustandç®¡ç†å…¨å±€çŠ¶æ€**ï¼š
```typescript
// src/store/studio-store.ts
interface StudioState {
  // é˜¶æ®µ1ï¼šæ„å›¾è¯†åˆ«
  requirement: string;
  intent: IntentClassificationResult | null;
  selectedTemplate: IndustryTemplate | null;

  // é˜¶æ®µ2ï¼šé£æ ¼é€‰æ‹©
  selectedStyle: DesignStyle | null;
  selectedAICapabilities: string[];
  previewUrl: string | null;

  // é˜¶æ®µ3ï¼šæ‰§è¡ŒçŠ¶æ€
  taskId: string | null;
  agents: AgentExecutionStatus[];
  generatedCode: GeneratedFile[];

  // é˜¶æ®µ4ï¼šå‘å¸ƒçŠ¶æ€
  publishResults: PublishResult[];

  // å½“å‰é˜¶æ®µ
  currentStage: 'intent' | 'design' | 'execute' | 'publish';

  // Actions
  setRequirement: (req: string) => void;
  setIntent: (intent: IntentClassificationResult) => void;
  selectTemplate: (template: IndustryTemplate | null) => void;
  selectStyle: (style: DesignStyle) => void;
  selectAICapability: (capabilityId: string) => void;
  confirmDesign: () => void;
  // ... å…¶ä»–actions
}
```

### 4.3 APIé›†æˆç‚¹

**æ–°å¢/ä¿®æ”¹çš„APIç«¯ç‚¹**ï¼š

1. **æ„å›¾è¯†åˆ«API**ï¼ˆå·²æœ‰ï¼‰ï¼š
   ```
   POST /api/v1/intent/classify
   Body: { userRequirement: string }
   Response: IntentClassificationResult
   ```

2. **æ¨¡æ¿åŒ¹é…API**ï¼ˆæ–°å¢ï¼‰ï¼š
   ```
   POST /api/v1/templates/match
   Body: { keywords: string[], intent: string }
   Response: IndustryTemplate[]
   ```

3. **OpenLovableé¢„è§ˆç”ŸæˆAPI**ï¼ˆå·²æœ‰ï¼Œéœ€å¢å¼ºï¼‰ï¼š
   ```
   POST /api/v1/openlovable/generate
   Body: {
     userRequirement: string,
     styleId: string,
     selectedTemplate?: string
   }
   Response: { previewUrl: string, sandboxId: string }
   ```

4. **å…¨æ ˆç”ŸæˆAPI**ï¼ˆå·²æœ‰ï¼‰ï¼š
   ```
   POST /api/v1/generate/full
   Body: {
     userRequirement: string,
     styleId: string,
     aiCapabilities: string[],
     config: GenerationConfig
   }
   Response: { taskId: string }
   ```

5. **å¤šå¹³å°å‘å¸ƒAPI**ï¼ˆæ–°å¢ï¼‰ï¼š
   ```
   POST /api/v1/publish/multi-platform
   Body: {
     appSpecId: string,
     platforms: string[]
   }
   Response: { jobs: PublishJob[] }
   ```

### 4.4 ç»„ä»¶å±‚æ¬¡ç»“æ„

```
StudioPage (ä¸»é¡µé¢)
â”œâ”€â”€ Stage1: IntentRecognitionStage
â”‚   â”œâ”€â”€ ChatInterface (å¯¹è¯ç•Œé¢)
â”‚   â”œâ”€â”€ TemplatePreview (é¢„è§ˆåŒºåŸŸ)
â”‚   â””â”€â”€ IntentInfoPanel (ä¿¡æ¯é¢æ¿)
â”‚
â”œâ”€â”€ Stage2: DesignSelectionStage
â”‚   â”œâ”€â”€ StyleSelector (é£æ ¼é€‰æ‹©)
â”‚   â”œâ”€â”€ InteractivePreview (å®æ—¶é¢„è§ˆ)
â”‚   â””â”€â”€ AICapabilitySelector (AIèƒ½åŠ›é€‰æ‹©)
â”‚
â”œâ”€â”€ Stage3: ExecutionStage
â”‚   â”œâ”€â”€ RequirementSummary (é…ç½®æ€»ç»“)
â”‚   â””â”€â”€ RealtimeExecutionPanel (å®æ—¶è¿›åº¦)
â”‚
â””â”€â”€ Stage4: PublishStage
    â”œâ”€â”€ ResultOverview (ç»“æœæ€»è§ˆ)
    â”œâ”€â”€ MultiPlatformPublisher (å‘å¸ƒé€‰é¡¹)
    â””â”€â”€ QuickActions (å¿«é€Ÿæ“ä½œ)
```

---

## 5. ç»„ä»¶æ¶æ„è®¾è®¡

### 5.1 æ ¸å¿ƒç»„ä»¶æ¸…å•

| ç»„ä»¶åç§° | æ–‡ä»¶è·¯å¾„ | èŒè´£ | çŠ¶æ€ |
|---------|---------|------|------|
| StudioPage | `src/app/studio/page.tsx` | ä¸»é¡µé¢ï¼Œç®¡ç†å››é˜¶æ®µæµç¨‹ | ğŸ†• æ–°å»º |
| ChatInterface | `src/components/chat/chat-interface.tsx` | å¯¹è¯å¼äº¤äº’ç•Œé¢ | ğŸ†• æ–°å»º |
| MessageBubble | `src/components/chat/message-bubble.tsx` | æ¶ˆæ¯æ°”æ³¡ç»„ä»¶ | ğŸ†• æ–°å»º |
| TemplateCard | `src/components/chat/template-card.tsx` | æ¨¡æ¿æ¨èå¡ç‰‡ | ğŸ†• æ–°å»º |
| TemplatePreview | `src/components/preview/template-preview.tsx` | æ¨¡æ¿é¢„è§ˆç»„ä»¶ | ğŸ†• æ–°å»º |
| IntentInfoPanel | `src/components/info/intent-info-panel.tsx` | æ„å›¾ä¿¡æ¯é¢æ¿ | ğŸ†• æ–°å»º |
| StyleSelector | `src/components/design/style-selector.tsx` | é£æ ¼é€‰æ‹©å™¨ | ğŸ†• æ–°å»º |
| InteractivePreview | `src/components/preview/interactive-preview.tsx` | äº¤äº’é¢„è§ˆç»„ä»¶ | ğŸ†• æ–°å»º |
| AICapabilitySelector | `src/components/ai/ai-capability-selector.tsx` | AIèƒ½åŠ›é€‰æ‹©å™¨ | ğŸ†• æ–°å»º |
| AICapabilityCard | `src/components/ai/ai-capability-card.tsx` | AIèƒ½åŠ›å¡ç‰‡ | ğŸ†• æ–°å»º |
| RequirementSummary | `src/components/summary/requirement-summary.tsx` | éœ€æ±‚æ€»ç»“ç»„ä»¶ | ğŸ†• æ–°å»º |
| RealtimeExecutionPanel | `src/components/execution/realtime-execution-panel.tsx` | å®æ—¶æ‰§è¡Œé¢æ¿ | ğŸ†• æ–°å»º |
| AgentProgressCard | `src/components/execution/agent-progress-card.tsx` | Agentè¿›åº¦å¡ç‰‡ | ğŸ†• æ–°å»º |
| CodePreview | `src/components/execution/code-preview.tsx` | ä»£ç é¢„è§ˆç»„ä»¶ | ğŸ†• æ–°å»º |
| MultiPlatformPublisher | `src/components/publish/multi-platform-publisher.tsx` | å¤šå¹³å°å‘å¸ƒå™¨ | ğŸ†• æ–°å»º |
| PublishResult | `src/components/publish/publish-result.tsx` | å‘å¸ƒç»“æœå±•ç¤º | ğŸ†• æ–°å»º |

### 5.2 Hooksæ¸…å•

| Hookåç§° | æ–‡ä»¶è·¯å¾„ | èŒè´£ | çŠ¶æ€ |
|---------|---------|------|------|
| useStudioFlow | `src/hooks/use-studio-flow.ts` | ç®¡ç†æ•´ä½“æµç¨‹çŠ¶æ€ | ğŸ†• æ–°å»º |
| useIntentClassification | `src/hooks/use-intent-classification.ts` | æ„å›¾è¯†åˆ«Hook | ğŸ†• æ–°å»º |
| useTemplateMatch | `src/hooks/use-template-match.ts` | æ¨¡æ¿åŒ¹é…Hook | ğŸ†• æ–°å»º |
| useOpenLovablePreview | `src/hooks/use-openlovable-preview.ts` | OpenLovableé¢„è§ˆHook | ğŸ†• æ–°å»º |
| useMultiPlatformPublish | `src/hooks/use-multi-platform-publish.ts` | å¤šå¹³å°å‘å¸ƒHook | ğŸ†• æ–°å»º |

---

## 6. å®æ–½è·¯çº¿å›¾

### 6.1 Phaseåˆ’åˆ†ï¼ˆéµå¾ªå‰ç«¯ä¼˜å…ˆåŸåˆ™ï¼‰

**Phase 1ï¼šé¡µé¢å’Œç»„ä»¶å¼€å‘ï¼ˆå‰ç«¯ä¼˜å…ˆï¼‰â­**
- æ—¶é—´ï¼š2-3å¤©
- äº§å‡ºï¼šå®Œæ•´çš„å››é˜¶æ®µUI + Mockæ•°æ®éªŒè¯
- åŒ…å«ï¼š
  - åˆ›å»º`StudioPage`ä¸»é¡µé¢
  - å®ç°å››é˜¶æ®µå¸ƒå±€åˆ‡æ¢
  - åˆ›å»ºæ‰€æœ‰æ ¸å¿ƒç»„ä»¶
  - Mockæ•°æ®éªŒè¯äº¤äº’é€»è¾‘
  - **è¾“å‡ºAPIæ¥å£å¥‘çº¦æ–‡æ¡£**

**Phase 2ï¼šåç«¯APIå¼€å‘**
- æ—¶é—´ï¼š2å¤©
- å‰ç½®ä¾èµ–ï¼šPhase 1å®Œæˆ
- äº§å‡ºï¼šç¬¦åˆå‰ç«¯å¥‘çº¦çš„åç«¯API
- åŒ…å«ï¼š
  - æ¨¡æ¿åŒ¹é…APIï¼ˆ`/api/v1/templates/match`ï¼‰
  - OpenLovableå¢å¼ºAPI
  - å¤šå¹³å°å‘å¸ƒAPIï¼ˆ`/api/v1/publish/multi-platform`ï¼‰
  - å•å…ƒæµ‹è¯•å’ŒAPIæ–‡æ¡£

**Phase 3ï¼šå‰åç«¯è”è°ƒ**
- æ—¶é—´ï¼š1å¤©
- å‰ç½®ä¾èµ–ï¼šPhase 2å®Œæˆ
- äº§å‡ºï¼šå®Œæ•´åŠŸèƒ½éªŒè¯
  - ç§»é™¤Mockæ•°æ®
  - çœŸå®APIå¯¹æ¥
  - E2Eæµ‹è¯•ç¼–å†™
  - æ€§èƒ½å’Œé”™è¯¯å¤„ç†ä¼˜åŒ–

**Phase 4ï¼šä¼˜åŒ–å’Œä¸Šçº¿**
- æ—¶é—´ï¼š1å¤©
- äº§å‡ºï¼šç”Ÿäº§å°±ç»ªç‰ˆæœ¬
- åŒ…å«ï¼š
  - UIç»†èŠ‚æ‰“ç£¨
  - æ€§èƒ½ä¼˜åŒ–
  - é”™è¯¯å¤„ç†å®Œå–„
  - æ–‡æ¡£æ›´æ–°

### 6.2 è¯¦ç»†ä»»åŠ¡æ¸…å•

**Phase 1: é¡µé¢å’Œç»„ä»¶å¼€å‘ï¼ˆ2-3å¤©ï¼‰**

- [ ] **Day 1ï¼šé˜¶æ®µ1å’Œé˜¶æ®µ2å¸ƒå±€**
  - [ ] åˆ›å»º`StudioPage`ä¸»é¡µé¢æ¡†æ¶
  - [ ] å®ç°é˜¶æ®µåˆ‡æ¢é€»è¾‘
  - [ ] åˆ›å»º`ChatInterface`ç»„ä»¶
  - [ ] åˆ›å»º`MessageBubble`ç»„ä»¶
  - [ ] åˆ›å»º`TemplateCard`ç»„ä»¶
  - [ ] åˆ›å»º`TemplatePreview`ç»„ä»¶
  - [ ] åˆ›å»º`IntentInfoPanel`ç»„ä»¶
  - [ ] åˆ›å»º`StyleSelector`ç»„ä»¶
  - [ ] åˆ›å»º`InteractivePreview`ç»„ä»¶ï¼ˆå«iframeï¼‰
  - [ ] Mockæ•°æ®éªŒè¯é˜¶æ®µ1å’Œ2äº¤äº’

- [ ] **Day 2ï¼šé˜¶æ®µ3å’Œé˜¶æ®µ4å¸ƒå±€**
  - [ ] åˆ›å»º`AICapabilitySelector`ç»„ä»¶
  - [ ] åˆ›å»º`AICapabilityCard`ç»„ä»¶
  - [ ] åˆ›å»º`RequirementSummary`ç»„ä»¶
  - [ ] åˆ›å»º`RealtimeExecutionPanel`ç»„ä»¶
  - [ ] åˆ›å»º`AgentProgressCard`ç»„ä»¶
  - [ ] åˆ›å»º`CodePreview`ç»„ä»¶
  - [ ] åˆ›å»º`MultiPlatformPublisher`ç»„ä»¶
  - [ ] åˆ›å»º`PublishResult`ç»„ä»¶
  - [ ] Mockæ•°æ®éªŒè¯é˜¶æ®µ3å’Œ4äº¤äº’

- [ ] **Day 3ï¼šçŠ¶æ€ç®¡ç†å’ŒHooks**
  - [ ] å®ç°`studio-store.ts`ï¼ˆZustandï¼‰
  - [ ] åˆ›å»º`useStudioFlow` Hook
  - [ ] åˆ›å»º`useIntentClassification` Hook
  - [ ] åˆ›å»º`useTemplateMatch` Hook
  - [ ] åˆ›å»º`useOpenLovablePreview` Hook
  - [ ] åˆ›å»º`useMultiPlatformPublish` Hook
  - [ ] é›†æˆWebSocketï¼ˆå¤ç”¨ç°æœ‰`useGenerationWebSocket`ï¼‰
  - [ ] **è¾“å‡ºAPIæ¥å£å¥‘çº¦æ–‡æ¡£**
  - [ ] å®Œæ•´æµç¨‹Mockæ•°æ®E2Eæµ‹è¯•

**Phase 2: åç«¯APIå¼€å‘ï¼ˆ2å¤©ï¼‰**

- [ ] **Day 1ï¼šæ¨¡æ¿å’Œé¢„è§ˆAPI**
  - [ ] å®ç°`/api/v1/templates/match`ç«¯ç‚¹
  - [ ] åˆ›å»º`IndustryTemplateService`
  - [ ] åˆ›å»º`IndustryTemplateRepository`
  - [ ] åˆå§‹åŒ–40+è¡Œä¸šæ¨¡æ¿æ•°æ®
  - [ ] å¢å¼º`OpenLovableService`æ”¯æŒstyleIdå‚æ•°
  - [ ] å•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•

- [ ] **Day 2ï¼šå‘å¸ƒå’Œå®Œå–„**
  - [ ] å®ç°`/api/v1/publish/multi-platform`ç«¯ç‚¹
  - [ ] åˆ›å»º`MultiPlatformPublishService`
  - [ ] å®ç°å„å¹³å°å‘å¸ƒé€»è¾‘ï¼ˆå°ç¨‹åº/å®‰å“/é¸¿è’™/Webï¼‰
  - [ ] APIæ–‡æ¡£æ›´æ–°ï¼ˆSwaggerï¼‰
  - [ ] å•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•

**Phase 3: å‰åç«¯è”è°ƒï¼ˆ1å¤©ï¼‰**

- [ ] ç§»é™¤æ‰€æœ‰Mockæ•°æ®
- [ ] å¯¹æ¥çœŸå®API
- [ ] é”™è¯¯å¤„ç†å’Œè¾¹ç•Œæƒ…å†µæµ‹è¯•
- [ ] E2Eæµ‹è¯•ç¼–å†™ï¼ˆPlaywrightï¼‰
- [ ] æ€§èƒ½æµ‹è¯•å’Œä¼˜åŒ–
- [ ] è·¨æµè§ˆå™¨å…¼å®¹æ€§æµ‹è¯•

**Phase 4: ä¼˜åŒ–å’Œä¸Šçº¿ï¼ˆ1å¤©ï¼‰**

- [ ] UIç»†èŠ‚æ‰“ç£¨ï¼ˆåŠ¨ç”»ã€è¿‡æ¸¡æ•ˆæœï¼‰
- [ ] å“åº”å¼å¸ƒå±€ä¼˜åŒ–
- [ ] åŠ è½½çŠ¶æ€å’Œéª¨æ¶å±ä¼˜åŒ–
- [ ] é”™è¯¯æç¤ºå’Œç”¨æˆ·å¼•å¯¼ä¼˜åŒ–
- [ ] æ–‡æ¡£æ›´æ–°ï¼ˆCLAUDE.mdã€ç”¨æˆ·æ‰‹å†Œï¼‰
- [ ] éƒ¨ç½²åˆ°æµ‹è¯•ç¯å¢ƒ
- [ ] ç”¨æˆ·éªŒæ”¶æµ‹è¯•

---

## 7. è´¨é‡æ ‡å‡†

### 7.1 æäº¤å‰æ£€æŸ¥æ¸…å•

**ç¼–è¯‘å’Œç±»å‹æ£€æŸ¥**ï¼š
- [ ] `pnpm tsc --noEmit` é€šè¿‡ï¼ˆ0 errorsï¼‰
- [ ] `pnpm lint` é€šè¿‡ï¼ˆ0 errorsï¼‰
- [ ] `pnpm build` æˆåŠŸ

**åŠŸèƒ½éªŒè¯**ï¼š
- [ ] å››é˜¶æ®µæµç¨‹å®Œæ•´å¯èµ°é€š
- [ ] æ‰€æœ‰äº¤äº’æŒ‰é’®åŠŸèƒ½æ­£å¸¸
- [ ] å®æ—¶é¢„è§ˆæ­£å¸¸æ˜¾ç¤º
- [ ] WebSocketè¿æ¥ç¨³å®š

**æµ‹è¯•è¦†ç›–**ï¼š
- [ ] å•å…ƒæµ‹è¯•è¦†ç›–ç‡â‰¥85%
- [ ] æ‰€æœ‰E2Eæµ‹è¯•é€šè¿‡
- [ ] è·¨æµè§ˆå™¨æµ‹è¯•é€šè¿‡

### 7.2 ç”¨æˆ·ä½“éªŒæ ‡å‡†

| æŒ‡æ ‡ | ç›®æ ‡å€¼ | éªŒè¯æ–¹æ³• |
|-----|-------|---------|
| æ„å›¾è¯†åˆ«å“åº”æ—¶é—´ | <3ç§’ | Performance APIæµ‹é‡ |
| é£æ ¼é¢„è§ˆç”Ÿæˆæ—¶é—´ | <10ç§’ | ç”¨æˆ·æ„ŸçŸ¥æ—¶é—´æµ‹é‡ |
| é¡µé¢åˆ‡æ¢æµç•…åº¦ | 60fps | Chrome DevToolsæµ‹é‡ |
| ç§»åŠ¨ç«¯é€‚é… | å®Œç¾æ”¯æŒ | çœŸæœºæµ‹è¯• |
| æ— éšœç¢æ”¯æŒ | WCAG AA | Lighthouseæ£€æµ‹ |

---

## 8. é£é™©å’Œåº”å¯¹

### 8.1 æŠ€æœ¯é£é™©

**é£é™©1ï¼šOpenLovableé¢„è§ˆç”Ÿæˆå¤±è´¥**
- **åº”å¯¹**ï¼šæ·»åŠ é‡è¯•æœºåˆ¶ + é™çº§åˆ°é™æ€é¢„è§ˆå›¾

**é£é™©2ï¼šWebSocketè¿æ¥ä¸ç¨³å®š**
- **åº”å¯¹**ï¼šè‡ªåŠ¨é‡è¿ + é™çº§åˆ°è½®è¯¢æ¨¡å¼

**é£é™©3ï¼šå¤šå¹³å°å‘å¸ƒå¤±è´¥**
- **åº”å¯¹**ï¼šéƒ¨åˆ†å¤±è´¥å…è®¸ç»§ç»­ + è¯¦ç»†é”™è¯¯æ—¥å¿—

### 8.2 æ€§èƒ½é£é™©

**é£é™©1ï¼šå››é˜¶æ®µé¡µé¢åŠ è½½æ…¢**
- **åº”å¯¹**ï¼šä»£ç åˆ†å‰² + æ‡’åŠ è½½ + é¢„åŠ è½½å…³é”®èµ„æº

**é£é™©2ï¼šå®æ—¶ä»£ç é¢„è§ˆå ç”¨å†…å­˜**
- **åº”å¯¹**ï¼šè™šæ‹Ÿæ»šåŠ¨ + æŒ‰éœ€åŠ è½½ + é™åˆ¶æ˜¾ç¤ºè¡Œæ•°

---

## 9. æˆåŠŸæŒ‡æ ‡

### 9.1 å®šé‡æŒ‡æ ‡

| æŒ‡æ ‡ | V1.0åŸºçº¿ | V2.0ç›®æ ‡ | æå‡ |
|-----|---------|---------|------|
| ç”¨æˆ·å®Œæˆç‡ | 45% | 75% | +67% |
| å¹³å‡ç”Ÿæˆæ—¶é—´ | 8åˆ†é’Ÿ | 5åˆ†é’Ÿ | -37.5% |
| è¿”å·¥ç‡ | 35% | 17.5% | -50% |
| ç”¨æˆ·æ»¡æ„åº¦ | 3.8/5 | 4.7/5 | +24% |
| NPSè¯„åˆ† | 32 | 60 | +87.5% |

### 9.2 å®šæ€§æŒ‡æ ‡

- **ç”¨æˆ·åé¦ˆ**ï¼š"åƒèŠå¤©ä¸€æ ·ç®€å•"
- **äº§å“ä»·å€¼**ï¼š"çœ‹åˆ°é¢„è§ˆåæ‰æ•¢ç¡®è®¤"
- **ç«äº‰ä¼˜åŠ¿**ï¼š"æ¯”å…¶ä»–ä½ä»£ç å¹³å°æ›´æ™ºèƒ½"

---

**Made with â¤ï¸ by Ingenio Team**

> æœ¬æ–¹æ¡ˆåŸºäºç”¨æˆ·æä¾›çš„ä¸¤å¼ å‚è€ƒå›¾è®¾è®¡ï¼Œéµå¾ª"è®©ç”¨æˆ·åšé€‰æ‹©é¢˜ï¼Œè€Œéå¡«ç©ºé¢˜"çš„æ ¸å¿ƒç†å¿µï¼Œ
> æ—¨åœ¨å°†Ingenioæ‰“é€ æˆä¸šå†…æœ€æ™ºèƒ½ã€æœ€æ˜“ç”¨çš„AIåº”ç”¨ç”Ÿæˆå¹³å°ã€‚
