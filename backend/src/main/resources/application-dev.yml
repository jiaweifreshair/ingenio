# 开发环境配置（连接Docker中的服务）
# ⚠️ 重要：禁止使用本地安装的PostgreSQL，必须连接Docker容器中的数据库
# 启动Docker服务：docker-compose up -d postgres redis minio
# 如有端口冲突：brew services stop postgresql@15
spring:
  datasource:
    # 连接Docker容器中的PostgreSQL (docker-compose.yml暴露的5432端口)
    # 使用127.0.0.1而非localhost避免DNS解析问题
    url: jdbc:postgresql://127.0.0.1:5432/ingenio?stringtype=unspecified
    username: postgres
    password: ingenio_20251122

  redis:
    host: 127.0.0.1
    port: 6379

  ai:
    alibaba:
      api-key: ${DEEPSEEK_API_KEY:sk-your-deepseek-api-key}

  # 禁用邮件自动配置（开发环境不需要）
  autoconfigure:
    exclude:
      - org.springframework.boot.autoconfigure.mail.MailSenderAutoConfiguration

# MinIO配置
minio:
  endpoint: http://127.0.0.1:9000
  access-key: minioadmin
  secret-key: minioadmin
  bucket-name: ingenio-dev

# SaToken配置
sa-token:
  jwt-secret-key: ingenio-jwt-dev-secret-key

# 日志配置
logging:
  level:
    root: INFO
    com.ingenio.backend: DEBUG
    com.baomidou.mybatisplus: DEBUG

# Actuator健康检查配置（禁用邮件健康检查）
management:
  health:
    mail:
      enabled: false

# Ingenio配置
ingenio:
  codegen:
    preview-base-url: http://127.0.0.1:3000
  tenant:
    default-tenant-id: 00000000-0000-0000-0000-000000000001
